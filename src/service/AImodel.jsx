import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
    systemInstruction: "Generate travel plan for location: Delhi for 3 days for couple with a medium budget, give me hotels option list with hotelName, hotel address, price, hotel images url,  geo coordinates, rating, description, and suggest itenary with place name , place details, place image url, geo coordinate, ticket pricing, time t travel each of the loacation for 3 days with each day plan with the best time to visit in JSON format\n",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "generate\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"tripDetails\": {\n    \"destination\": \"Delhi, India\",\n    \"duration\": \"3 Days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Medium\"\n  },\n  \"hotels\": [\n    {\n      \"hotelName\": \"The Leela Palace New Delhi\",\n      \"hotelAddress\": \"15, SHIVAJI MARG, NEW DELHI, DELHI 110001, INDIA\",\n      \"price\": \" $200 per night\",\n      \"hotelImages\": [\n        \"https://example.com/leela1.jpg\",\n        \"https://example.com/leela2.jpg\"\n      ],\n      \"geoCoordinates\": {\n        \"latitude\": 28.6129,\n        \"longitude\": 77.2310\n      },\n      \"rating\": 4.5,\n      \"description\": \"Luxury hotel with stunning views and excellent service.\"\n    },\n    {\n      \"hotelName\": \"The Oberoi, New Delhi\",\n      \"hotelAddress\": \"Dr. Zakir Husain Marg, Diplomatic Enclave, New Delhi, Delhi 110021, India\",\n      \"price\": \"$$$ (approx. $250+ per night)\",\n      \"hotelImages\": [\n        \"https://example.com/oberoi1.jpg\",\n        \"https://example.com/oberoi2.jpg\"\n\n      ],\n      \"geoCoordinates\": {\n        \"latitude\": 28.6076,\n        \"longitude\": 77.1902\n      },\n      \"rating\": 4.6,\n      \"description\": \"Another luxury option with a focus on personalized service.\"\n    },\n    {\n      \"hotelName\": \"The Imperial, New Delhi\",\n      \"hotelAddress\": \"Janpath, Connaught Place, New Delhi, Delhi 110001, India\",\n      \"price\": \"$$$ (approx. $150+ per night)\",\n      \"hotelImages\": [\n        \"https://example.com/imperial1.jpg\",\n        \"https://example.com/imperial2.jpg\"\n      ],\n      \"geoCoordinates\": {\n        \"latitude\": 28.6293,\n        \"longitude\": 77.2168\n      },\n      \"rating\": 4.4,\n      \"description\": \"Historic hotel in a prime location.\"\n\n    },\n        {\n      \"hotelName\": \"Bloomrooms @ Janpath\",\n      \"hotelAddress\": \"22, Janpath, Connaught Place, New Delhi, Delhi 110001, India\",\n      \"price\": \"$$ (approx. $50-$100 per night)\",\n      \"hotelImages\": [\n        \"https://example.com/bloomrooms1.jpg\",\n        \"https://example.com/bloomrooms2.jpg\"\n      ],\n      \"geoCoordinates\": {\n        \"latitude\": 28.6293,\n        \"longitude\": 77.2188\n      },\n      \"rating\": 4.0,\n      \"description\": \"Mid-range hotel with a good location.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Old Delhi Charm\",\n      \"plan\": [\n        {\n          \"placeName\": \"Jama Masjid\",\n          \"placeDetails\": \"One of India's largest mosques.\",\n          \"placeImage\": \"https://example.com/jamamasjid.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6517,\n            \"longitude\": 77.2372\n          },\n          \"ticketPricing\": \"Free entry\",\n          \"travelTime\": \"30 mins (taxi/rickshaw)\"\n        },\n        {\n          \"placeName\": \"Red Fort (Lal Qila)\",\n          \"placeDetails\": \"Iconic Mughal-era fort.\",\n          \"placeImage\": \"https://example.com/redfort.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6562,\n            \"longitude\": 77.2411\n          },\n          \"ticketPricing\": \"INR 50 per person (approx. $1)\",\n          \"travelTime\": \"15 mins (rickshaw)\"\n        },\n        {\n          \"placeName\": \"Chandni Chowk\",\n          \"placeDetails\": \"Bustling market with street food.\",\n          \"placeImage\": \"https://example.com/chandnichowk.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6541,\n            \"longitude\": 77.2304\n          },\n          \"ticketPricing\": \"N/A\",\n          \"travelTime\": \"10 mins (walk)\"\n        }\n      ],\n      \"bestTime\": \"Morning to avoid afternoon heat\"\n    },\n    \"day2\": {\n      \"theme\": \"New Delhi Exploration\",\n      \"plan\": [\n        {\n          \"placeName\": \"Humayun's Tomb\",\n          \"placeDetails\": \"Precursor to the Taj Mahal.\",\n          \"placeImage\": \"https://example.com/humayunstomb.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.5972,\n            \"longitude\": 77.2422\n          },\n          \"ticketPricing\": \"INR 60 per person (approx. $1)\",\n          \"travelTime\": \"30 mins (taxi)\"\n        },\n        {\n          \"placeName\": \"India Gate\",\n          \"placeDetails\": \"War memorial.\",\n          \"placeImage\": \"https://example.com/indiagate.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6129,\n            \"longitude\": 77.2295\n          },\n          \"ticketPricing\": \"Free entry\",\n          \"travelTime\": \"15 mins (taxi)\"\n        },\n        {\n          \"placeName\": \"Qutub Minar\",\n          \"placeDetails\": \"Tallest brick minaret in the world.\",\n          \"placeImage\": \"https://example.com/qutubminar.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.5244,\n            \"longitude\": 77.1857\n          },\n          \"ticketPricing\": \"INR 60 per person (approx. $1)\",\n          \"travelTime\": \"45 mins (taxi)\"\n        }\n      ],\n      \"bestTime\": \"Late morning to afternoon\"\n    },\n    \"day3\": {\n      \"theme\": \"Culture and Shopping\",\n      \"plan\": [\n        {\n          \"placeName\": \"National Museum\",\n          \"placeDetails\": \"Extensive collection of Indian art and artifacts.\",\n          \"placeImage\": \"https://example.com/nationalmuseum.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6110,\n            \"longitude\": 77.2200\n          },\n          \"ticketPricing\": \"INR 200 per person (approx. $3)\",\n          \"travelTime\": \"30 mins (taxi)\"\n        },\n        {\n          \"placeName\": \"Connaught Place\",\n          \"placeDetails\": \"Shopping and dining hub.\",\n          \"placeImage\": \"https://example.com/connaughtplace.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6300,\n            \"longitude\": 77.2167\n          },\n          \"ticketPricing\": \"N/A\",\n          \"travelTime\": \"15 mins (taxi/metro)\"\n        },\n        {\n          \"placeName\": \"Dilli Haat\",\n          \"placeDetails\": \"Craft bazaar showcasing India's diverse handicrafts.\",\n          \"placeImage\": \"https://example.com/dillihaat.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6008,\n            \"longitude\": 77.2016\n          },\n          \"ticketPricing\": \"N/A\",\n          \"travelTime\": \"30 mins (taxi/metro)\"\n        }\n      ],\n      \"bestTime\": \"Morning to late afternoon\"\n    }\n  }\n}\n```\n\n**Note:**  The image URLs are placeholders.  You'll need to replace them with actual image URLs from reliable sources.  Also, prices and travel times are estimates and may vary.  Consider using a mapping service to accurately determine travel times based on traffic conditions.  Remember to check the official websites for the latest ticket pricing and opening hours.\n"},
          ],
        },
      ],
    });
  
   